{"version":3,"sources":["webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue?1faf","webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue?ce7c","webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue?5da7","webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue?9f1e","webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue","webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue?f293","webpack:///D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue?1762"],"names":["data","maskclose","couponmask","title","productList","myproductList","userproductList","renderImage","allmoney","getticket","getcoupontype","couponid","timerId","reqTime","types","type","String","default","color","list","id","termStart","termEnd","ticket","criteria","state","components","uniPopup","methods","mycouponlist","getopenid","uni","getStorageSync","$apis","openId","info","couponList","length","$refs","popups","open","console","log","docheck","i","postcoupon","t","getcoupon","push","showModal","content","confirmText","success","res","confirm","cancel","showmode","popup","hiddenmode","close","getallgood","sn","getgood","orderId","products","clearInterval","showToast","totalmoney","toIndex","reLaunch","url","selectArr","totalPrice","number","price","toFixed","onLoad","option","productNumber","setTimeout","setInterval"],"mappings":"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","file":"pages/goodlist/goodlist.js","sourcesContent":["import { render, staticRenderFns } from \"./goodlist.vue?vue&type=template&id=5e9d772e&\"\nimport script from \"./goodlist.vue?vue&type=script&lang=js&\"\nexport * from \"./goodlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goodlist.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5e9d772e', component.options)\n    } else {\n      api.reload('5e9d772e', component.options)\n    }\n    module.hot.accept(\"./goodlist.vue?vue&type=template&id=5e9d772e&\", function () {\n      api.rerender('5e9d772e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/chenjinlong/githuademo/guijimini/pages/goodlist/goodlist.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodlist.vue?vue&type=template&id=5e9d772e&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodlist.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\n    export default {\n        data() {\n            return {\n\t\t\t\tmaskclose:false,\n\t\t\t\tcouponmask:false,\n                title: 'product-list',\n                productList: [],\n                myproductList: [],\n                userproductList: [],\n                renderImage: false,\n\t\t\t\tallmoney:0,\n\t\t\t\tgetticket:'',\n\t\t\t\tgetcoupontype:'',\n\t\t\t\tcouponid:0,\n\t\t\t\ttimerId: null,\n\t\t\t\treqTime:3600,\n\t\t\t\ttypes:{\n\t\t\t\t\ttype: String,\n\t\t\t\t\tdefault: ''\n\t\t\t\t},\n\t\t\t\tcolor:{\n\t\t\t\t\ttype: String,\n\t\t\t\t\tdefault: '#878ea3'\n\t\t\t\t},\n\t\t\t\tlist: [\n\t\t\t\t\t{id:1,title:\"日常用品立减10元\",termStart:\"2019-04-01\",termEnd:\"2019-05-30\",ticket:\"10\",criteria:\"满50使用\",state:0,type:0},\n\t\t\t\t\t]\n            };\n        },\n\t\tcomponents: {uniPopup},\n        methods: {\n\t\t\t//获取我的优惠券\n\t\t\tasync mycouponlist(){\n\t\t\t\tlet getopenid=uni.getStorageSync('openid');\n\t\t\t\tlet info= await this.$apis.mycouponlist({openId:getopenid});\n\t\t\t\tthis.list=info.data.couponList;\n\t\t\t\tif(info.data.couponList.length>0){\n\t\t\t\t\tthis.$refs.popups.open()\n\t\t\t\t}else{\n\t\t\t\t\t//没优惠券，直接提交订单\n\t\t\t\t\tconsole.log(this.userproductList,'提交的商品')\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tdocheck(id){\n\t\t\t\tconsole.log(id,'22')\n\t\t\t\tthis.list[id].state=!this.list[id].state;\n\t\t\t\tfor(var i=0;i<this.list.length;i++){\n\t\t\t\t\tif(i!=id){\n\t\t\t\t\t\t\tthis.list[i].state=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpostcoupon(){\n\t\t\t\tlet t=this;\n\t\t\t\tlet getcoupon=[];\n\t\t\t\tfor(var i=0;i<this.list.length;i++){\n\t\t\t\t\tif(this.list[i].state){\n\t\t\t\t\t\t\tgetcoupon.push(this.list[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(getcoupon.length==0){\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t    title: '温馨提示',\n\t\t\t\t\t    content: '确定不使用任何优惠卡券吗？',\n\t\t\t\t\t\tconfirmText:'不稀罕',\n\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t           console.log('用户点击确定');\n\t\t\t\t\t\t\t   console.log(this.userproductList,'提交的商品')\n\t\t\t\t\t\t\t  //没选择优惠券，直接提交\n\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tt.getticket=getcoupon[0].ticket;\n\t\t\t\t\tt.getcoupontype=getcoupon[0].type;\n\t\t\t\t\tt.couponid=getcoupon[0].id\n\t\t\t\t\tconsole.log(this.userproductList,'提交的商品')\n\t\t\t\t\tconsole.log(getcoupon[0].ticket,'优惠金额')\n\t\t\t\t\tconsole.log(getcoupon[0].type,'优惠类型')\n\t\t\t\t\tconsole.log(getcoupon[0].id,'优惠id')\n\t\t\t\t\t//有选择优惠券，提交订单\n\t\t\t\t\tconsole.log(getcoupon,'选中的优惠券')\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tshowmode(){\n\t\t\t\tthis.$refs.popup.open()\n\t\t\t},\n\t\t\thiddenmode(){\n\t\t\t\tthis.$refs.popup.close()\n\t\t\t},\n\t\t\t//获取柜机商品\n\t\t\tasync getallgood(sn){\n\t\t\t\tlet info= await this.$apis.getallgood({sn:sn});\n\t\t\t\tconsole.log(info.data,'返回商品')\n\t\t\t\tthis.myproductList=info.data;\n\t\t\t},\n\t\t\t//用户所拿商品\n\t\t\tasync getgood(orderId){\n\t\t\t\tlet info= await this.$apis.getgood({orderId:orderId});\n\t\t\t\tconsole.log(info.data,'返回用户商品')\n\t\t\t\tif(info.data.data.products.length>0){\n\t\t\t\t\tthis.showmode()\n\t\t\t\t}\n\t\t\t\tif(info.data.data.close){\n\t\t\t\t\tclearInterval(this.timerId);\n\t\t\t\t\tthis.hiddenmode();\n\t\t\t\t\t//检查是否有优惠券\n\t\t\t\t\tthis.mycouponlist()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'已关门'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tthis.userproductList=info.data.data.products;\n\t\t\t\tthis.totalmoney(info.data.data.products)\n\t\t\t},\n\t\t\ttoIndex() {\n\t\t\t\tclearInterval(this.timerId);\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl:'../../pages/index/index'\n\t\t\t\t})\n\t\t\t},\n\t\t\t//计算价格\n\t\t\ttotalmoney(data){\n\t\t\t\tvar selectArr = data;   //已选择的商品\n\t\t\t\t    var totalPrice = 0;\n\t\t\t\t    if(selectArr.length){  //如果存在商品就计算价格\n\t\t\t\t      for(var i=0;i<selectArr.length;i++){\n\t\t\t\t        totalPrice += selectArr[i].number * selectArr[i].price;\n\t\t\t\t      }\n\t\t\t\t      totalPrice = totalPrice.toFixed(2);  //乘法有点问题, 需要保留一下小数\n\t\t\t\t      console.log(\"计算价格:\",totalPrice)\n\t\t\t\t      this.allmoney=totalPrice;\n\t\t\t\t    } else{  //不存在商品就把总价格置为 0\n\t\t\t\t      this.allmoney=0;\n\t\t\t\t    }\n\t\t\t}\n        },\n        onLoad(option) {\n\t\t\tconsole.log(option.productNumber,'传过来')\n\t\t\t//this.$refs.popups.open()\n\t\t\t//this.mycouponlist()\n\t\t\tthis.getallgood(option.productNumber)\n            setTimeout(() => {\n                this.renderImage = true;\n            }, 300);\n\t\t\tlet orderId=uni.getStorageSync('ordernum');\n\t\t\tthis.timerId = setInterval(() => {\n\t\t\t\t\tvar reqTime = this.reqTime;\n\t\t\t\t\treqTime--;\n\t\t\t\t\tthis.reqTime = reqTime;\n\t\t\t\t\tif (reqTime < 1) {\n\t\t\t\t\t\tclearInterval(this.timerId);\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl:'../../pages/index/index'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//30分种后不关就报估计异常\n\t\t\t\t\t}\n\t\t\t\t\tthis.getgood(orderId);\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t\n\t\t\t\n        }\n    };\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodlist.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodlist.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}