(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personcenter/personcenter"],{"03c8":function(n,e,t){"use strict";var o=function(){var n=this,e=n.$createElement;n._self._c},i=[];t.d(e,"a",function(){return o}),t.d(e,"b",function(){return i})},"0c95":function(n,e,t){"use strict";t.r(e);var o=t("f694"),i=t.n(o);for(var a in o)"default"!==a&&function(n){t.d(e,n,function(){return o[n]})}(a);e["default"]=i.a},"0f24":function(n,e,t){"use strict";t.r(e);var o=t("03c8"),i=t("0c95");for(var a in i)"default"!==a&&function(n){t.d(e,n,function(){return i[n]})}(a);t("c79d");var s=t("2877"),r=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,null,null);e["default"]=r.exports},"18f8":function(n,e,t){},c79d:function(n,e,t){"use strict";var o=t("18f8"),i=t.n(o);i.a},f694:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(t("a34a"));function i(n){return n&&n.__esModule?n:{default:n}}function a(n,e,t,o,i,a,s){try{var r=n[a](s),c=r.value}catch(u){return void t(u)}r.done?e(c):Promise.resolve(c).then(o,i)}function s(n){return function(){var e=this,t=arguments;return new Promise(function(o,i){var s=n.apply(e,t);function r(n){a(s,o,i,r,c,"next",n)}function c(n){a(s,o,i,r,c,"throw",n)}r(void 0)})}}var r={data:function(){return{user:{username:"游客1002",face:"../../static/img/my.png",signature:"点击昵称跳转登录/注册页",integral:0,balance:0,envelope:0},userinfo:[],orderTypeLise:[{name:"全部订单",icon:"l4.png",badge:0},{name:"待付款",icon:"l1.png",badge:0},{name:"已付款",icon:"l2.png",badge:0},{name:"售后订单",icon:"l5.png",badge:0}],severList:[],isshowitem:!1}},onLoad:function(){this.init()},onReady:function(){var e=this;n.login({success:function(n){e.getapiinfo(n.code)}})},onShow:function(){var e=this;n.login({success:function(n){e.getapiinfo(n.code)}})},methods:{shopen:function(){var e=s(o.default.mark(function e(t){var i;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.shopen({sn:t});case 2:i=e.sent,1==i.code?n.navigateTo({url:"./checkuptype/checkuptype?sn="+t}):n.showToast({title:"开柜失败:"+i.msg,duration:3e3,icon:"none"});case 4:case"end":return e.stop()}},e,this)}));function t(n){return e.apply(this,arguments)}return t}(),getapiinfo:function(){var e=s(o.default.mark(function e(t){var i;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.chencklogin({code:t});case 2:i=e.sent,this,0==i.code||(this.userinfo=i.data,n.setStorageSync("openid",i.data.openid),1==i.data.auth_type?this.severList=[[{name:"我要上货",icon:"upgood.png",isshow:!0,isbt:!1},{name:"反馈意见",icon:"comment.png",isshow:!0,isbt:!1}],[{name:"联系客服",icon:"kefu.png",isshow:!0,isbt:!0},{name:"关于平台",icon:"about.png",isshow:!0,isbt:!1}]]:this.severList=[[{name:"我要上货",icon:"upgood.png",isshow:!1,isbt:!1},{name:"反馈意见",icon:"comment.png",isshow:!0,isbt:!1}],[{name:"联系客服",icon:"kefu.png",isshow:!0,isbt:!1},{name:"关于平台",icon:"about.png",isshow:!0,isbt:!1}]],console.log(this.userinfo,"已登录"));case 5:case"end":return e.stop()}},e,this)}));function t(n){return e.apply(this,arguments)}return t}(),openidtogetinfo:function(){var n=s(o.default.mark(function n(e){var t;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.$apis.openidtogetinfo({openid:e});case 2:t=n.sent,this.userinfo=t.data;case 4:case"end":return n.stop()}},n,this)}));function e(e){return n.apply(this,arguments)}return e}(),savaphone:function(){var n=s(o.default.mark(function n(e,t){return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:this.$apis.savephone({openid:e,phone:t}),this.openidtogetinfo(e);case 2:case"end":return n.stop()}},n,this)}));function e(e,t){return n.apply(this,arguments)}return e}(),getphone:function(){var e=s(o.default.mark(function e(t,i,a){var s,r;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.getphone({code:t,iv:i,encryptedData:a});case 2:s=e.sent,console.log(s.data.phoneNumber,"手机授权返回"),r=n.getStorageSync("openid"),this.savaphone(r,s.data.phoneNumber);case 6:case"end":return e.stop()}},e,this)}));function t(n,t,o){return e.apply(this,arguments)}return t}(),dogetphone:function(e){var t=this;n.login({success:function(n){t.getphone(n.code,e.detail.iv,e.detail.encryptedData)}}),console.log(e,"返回信息")},init:function(){this.userinfo={user_logo:"../../static/hch-position/person.png",user_name:"昵称",phone:""}},toOrderType:function(e){n.navigateTo({url:"./orderlist/orderlist?tbIndex="+e})},toPage:function(e,t){if("我要上货"==this.severList[e][t].name){n.getStorageSync("openid");n.showLoading({title:"开柜中..."});var o=this;n.scanCode({success:function(n){var e=n.path,t=e.split("=");o.shopen(t[1]),console.log(t[1],"扫码成功返回")},fail:function(e){console.log(e,"扫码失败返回"),n.hideLoading(),n.showToast({title:"开柜失败",duration:3e3,icon:"none"})}})}else"反馈意见"==this.severList[e][t].name?n.navigateTo({url:"./feelback/feelback"}):"关于平台"==this.severList[e][t].name&&n.navigateTo({url:"../aboutme/aboutme"})},tocoupon:function(){n.navigateTo({url:"./coupon/coupon?phone="+this.userinfo.phone})},toDeposit:function(){n.navigateTo({url:"./deposit/deposit"})}}};e.default=r}).call(this,t("543d")["default"])}},[["a3a1","common/runtime","common/vendor"]]]);