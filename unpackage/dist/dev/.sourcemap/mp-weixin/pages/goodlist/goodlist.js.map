{"version":3,"sources":["webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue?ec84","webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue?7767","webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue?d12b","webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue?5dae","webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue","webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue?b271","webpack:////Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue?7738"],"names":["data","maskclose","couponmask","showcan","title","productList","myproductList","userproductList","renderImage","allmoney","getticket","getcoupontype","couponid","timerId","reqTime","types","type","String","default","color","list","id","termStart","termEnd","ticket","criteria","state","ispay","waitpayTime","timerIdforgood","timerIdforcheckcoupon","passtime","components","uniPopup","methods","postpay","openid","ordernum","body","goodimg","goodinfo","console","log","$apis","accountorder","JSON","stringify","istest","info","uni","showLoading","t","setStorageSync","code","setInterval","checkgoodorder","setTimeout","clearInterval","hideLoading","showModal","content","showCancel","success","res","confirm","reLaunch","url","cancel","watitime","backyue","msg","out_trade_no","updatecloseorder","goodtitle","dotest","mycouponlist","getopenid","getStorageSync","openId","couponList","length","i","name","image","orderId","$refs","popups","open","docheck","postcoupon","getcoupon","push","confirmText","showmode","popup","hiddenmode","close","getallgood","sn","getgood","products","totalmoney","toIndex","selectArr","totalPrice","number","price","toFixed","onLoad","option","productNumber","onHide","iscolse"],"mappings":"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","file":"pages/goodlist/goodlist.js","sourcesContent":["import { render, staticRenderFns } from \"./goodlist.vue?vue&type=template&id=de6744f2&\"\nimport script from \"./goodlist.vue?vue&type=script&lang=js&\"\nexport * from \"./goodlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goodlist.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('de6744f2', component.options)\n    } else {\n      api.reload('de6744f2', component.options)\n    }\n    module.hot.accept(\"./goodlist.vue?vue&type=template&id=de6744f2&\", function () {\n      api.rerender('de6744f2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/chenjinlong/Desktop/mydemo/minidemo/guijimini/pages/goodlist/goodlist.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodlist.vue?vue&type=template&id=de6744f2&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodlist.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\n    export default {\n        data() {\n            return {\n\t\t\t\tmaskclose:false,\n\t\t\t\tcouponmask:false,\n\t\t\t\tshowcan:false,\n                title: 'product-list',\n                productList: [],\n                myproductList: [],\n                userproductList: [],\n                renderImage: false,\n\t\t\t\tallmoney:0,\n\t\t\t\tgetticket:'',\n\t\t\t\tgetcoupontype:'',\n\t\t\t\tcouponid:0,\n\t\t\t\ttimerId: null,\n\t\t\t\treqTime:2400,\n\t\t\t\ttypes:{\n\t\t\t\t\ttype: String,\n\t\t\t\t\tdefault: ''\n\t\t\t\t},\n\t\t\t\tcolor:{\n\t\t\t\t\ttype: String,\n\t\t\t\t\tdefault: '#878ea3'\n\t\t\t\t},\n\t\t\t\tlist: [\n\t\t\t\t\t{id:1,title:\"日常用品立减10元\",termStart:\"2019-04-01\",termEnd:\"2019-05-30\",ticket:\"10\",criteria:\"满50使用\",state:0,type:0},\n\t\t\t\t\t],\n\t\t\t\tispay:0,\n\t\t\t\twaitpayTime: 30,\n\t\t\t\ttimerIdforgood: null,\n\t\t\t\ttimerIdforcheckcoupon: null,\n\t\t\t\tpasstime:15\n            };\n        },\n\t\tcomponents: {uniPopup},\n        methods: {\n\t\t\t//支付\n\t\t\tasync postpay(openid,ordernum,allmoney,getcoupontype,getticket,body,goodimg,couponid,goodinfo){\n\t\t\t\tconsole.log('走支付了哦')\n\t\t\t\tlet info= await this.$apis.accountorder({openid:openid,ordernum:ordernum,allmoney:allmoney,getcoupontype:getcoupontype,\n\t\t\t\tgetticket:getticket,body:body,goodimg:goodimg,couponid:couponid,goodinfo:JSON.stringify(goodinfo),istest:1});\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:'支付中...'\n\t\t\t\t});\n\t\t\t\tlet t=this;\n\t\t\t\tuni.setStorageSync('isclosedoor',0);\n\t\t\t\tif(info.code==1){\n\t\t\t\t\t\tconsole.log(t.ispay,'是否支付')\n\t\t\t\t\t\tthis.timerIdforgood = setInterval(() => {\n\t\t\t\t\t\t\tt.checkgoodorder(openid,ordernum);\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tif(t.ispay==1){\n\t\t\t\t\t\t\t\t\tclearInterval(t.timerIdforgood);\n\t\t\t\t\t\t\t\t\tconsole.log(t.ispay,'走支付成功')\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t    title: '购买完成提示',\n\t\t\t\t\t\t\t\t\t    content: '欢迎再次光临！',\n\t\t\t\t\t\t\t\t\t\tshowCancel:this.showcan,\n\t\t\t\t\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(t.timerIdforcheckcoupon);\n\t\t\t\t\t\t\t\t\t            uni.reLaunch({\n\t\t\t\t\t\t\t\t\t            \turl:'../../pages/index/index'\n\t\t\t\t\t\t\t\t\t            })\n\t\t\t\t\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},200);\n\t\t\t\t\t\t\t\tvar watitime = this.waitpayTime;\n\t\t\t\t\t\t\t\twatitime--;\n\t\t\t\t\t\t\t\tthis.waitpayTime=watitime;\n\t\t\t\t\t\t\t\tif (watitime < 1) {\n\t\t\t\t\t\t\t\t\tclearInterval(this.timerIdforgood);\n\t\t\t\t\t\t\t\t\t//后台检查订单状态是否真的未支付，恢复所扣余额\n\t\t\t\t\t\t\t\t\tt.backyue(openid,ordernum);\n\t\t\t\t\t\t\t\t\tt.waitpayTime=30;\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t    title: '购买异常提示',\n\t\t\t\t\t\t\t\t\t    content: '请检查微信余额支付是否足以支付此次购买金额，或者网络是否正常，欢迎再次购买！',\n\t\t\t\t\t\t\t\t\t\tshowCancel:this.showcan,\n\t\t\t\t\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(t.timerIdforcheckcoupon);\n\t\t\t\t\t\t\t\t\t            uni.reLaunch({\n\t\t\t\t\t\t\t\t\t            \turl:'../../pages/index/index'\n\t\t\t\t\t\t\t\t\t            })\n\t\t\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconsole.log('请求支付结果'+watitime)\n\t\t\t\t\t\t\t},400);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log('走支付流程失败')\n\t\t\t\t\t\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t    title: '购买异常提示',\n\t\t\t\t\t    content: '异常信息：'+info.msg,\n\t\t\t\t\t\tshowCancel:this.showcan,\n\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t            uni.reLaunch({\n\t\t\t\t\t            \turl:'../../pages/index/index'\n\t\t\t\t\t            })\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\t//根据订单号查询是否真的支付成功\n\t\t\tasync checkgoodorder(openid,out_trade_no){\n\t\t\t\tlet info= await this.$apis.checkgoodorder({openid:openid,out_trade_no:out_trade_no});\n\t\t\t\tlet t=this;\n\t\t\t\tconsole.log(info.data,'检查支付返回')\n\t\t\t\tif(info.data==1){\n\t\t\t\t\tt.ispay=1;\n\t\t\t\t}else{\n\t\t\t\t\tt.ispay=0;\n\t\t\t\t}\n\t\t\t\tconsole.log(t.ispay,'t.ispay')\n\t\t\t},\n\t\t\t//后台检查余额恢复\n\t\t\tasync backyue(openid,out_trade_no){\n\t\t\t\tlet info= await this.$apis.backyue({openid:openid,out_trade_no:out_trade_no});\n\t\t\t},\n\t\t\t//关门上传商品数据\n\t\t\tasync updatecloseorder(allmoney,ordernum,goodinfo,goodtitle,goodimg){\n\t\t\t\tlet info= await this.$apis.updatecloseorder({allmoney:allmoney,ordernum:ordernum,goodinfo:JSON.stringify(goodinfo),goodtitle:goodtitle,goodimg:goodimg,istest:1});\n\t\t\t},\n\t\t\tasync dotest(){\n\t\t\t\tlet info= await this.$apis.dotest({});\n\t\t\t},\n\t\t\t//获取我的优惠券\n\t\t\tasync mycouponlist(){\n\t\t\t\tlet getopenid=uni.getStorageSync('openid');\n\t\t\t\tlet info= await this.$apis.mycouponlist({openId:getopenid});\n\t\t\t\tthis.list=info.data.couponList;\n\t\t\t\tlet t=this;\n\t\t\t\tif(info.data.couponList.length>0){\n\t\t\t\t\tif(this.allmoney>0){\n\t\t\t\t\t\t//不选优惠券一样要上传商品和总价格。防止什么都不选直接关闭逃单\n\t\t\t\t\t\tlet goodtitle='';\n\t\t\t\t\t\tlet goodimg='';\n\t\t\t\t\t\tfor(var i=0;i<this.userproductList.length;i++){\n\t\t\t\t\t\t\tgoodtitle+=this.userproductList[i].name+\",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgoodimg=this.userproductList[0].image;\n\t\t\t\t\t\tlet orderId=uni.getStorageSync('ordernum');\n\t\t\t\t\t\tthis.updatecloseorder(this.allmoney,orderId,this.userproductList,goodtitle,goodimg);\n\t\t\t\t\t\tthis.$refs.popups.open()\n\t\t\t\t\t\t//开启定时器检查\n\t\t\t\t\t\tthis.timerIdforcheckcoupon = setInterval(() => {\n\t\t\t\t\t\t\t\tvar passtime = this.passtime;\n\t\t\t\t\t\t\t\tpasstime--;\n\t\t\t\t\t\t\t\tthis.passtime = passtime;\n\t\t\t\t\t\t\t\tif (passtime < 1) {\n\t\t\t\t\t\t\t\t\tclearInterval(t.timerIdforcheckcoupon);\n\t\t\t\t\t\t\t\t\tconsole.log('关闭等待'+passtime)\n\t\t\t\t\t\t\t\t\t  let goodtitle='';\n\t\t\t\t\t\t\t\t\t  let goodimg='';\n\t\t\t\t\t\t\t\t\t  for(var i=0;i<t.userproductList.length;i++){\n\t\t\t\t\t\t\t\t\t  \tgoodtitle +=t.userproductList[i].name;\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t  goodimg=t.userproductList[0].image;\n\t\t\t\t\t\t\t\t\t  console.log(goodtitle,'提交的商品名称')\n\t\t\t\t\t\t\t\t\t  console.log(goodimg,'提交的商品图片')\n\t\t\t\t\t\t\t\t\t  console.log(t.allmoney,'商品总额')\n\t\t\t\t\t\t\t\t\t  console.log(t.userproductList,'提交的商品')\n\t\t\t\t\t\t\t\t\t let orderId=uni.getStorageSync('ordernum');\n\t\t\t\t\t\t\t\t\t let openid=uni.getStorageSync('openid');\n\t\t\t\t\t\t\t\t\tt.postpay(openid,orderId,t.allmoney,0,0,goodtitle,goodimg,0,t.userproductList);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconsole.log('等待时间'+passtime)\n\t\t\t\t\t\t\t\t//this.getgood(orderId);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t1000);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t//结速购买，返回首页\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t    title: '完成提示',\n\t\t\t\t\t\t    content: '欢迎再次光临！',\n\t\t\t\t\t\t\tshowCancel:this.showcan,\n\t\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t\t\t\t\tclearInterval(t.timerIdforcheckcoupon);\n\t\t\t\t\t\t            uni.reLaunch({\n\t\t\t\t\t\t            \turl:'../../pages/index/index'\n\t\t\t\t\t\t            })\n\t\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t\t        }\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t//没优惠券，直接提交订单\n\t\t\t\t\tif(this.allmoney>0){\n\t\t\t\t\t\tlet goodtitle='';\n\t\t\t\t\t\tlet goodimg='';\n\t\t\t\t\t\tfor(var i=0;i<this.userproductList.length;i++){\n\t\t\t\t\t\t\tgoodtitle+=this.userproductList[i].name+\",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgoodimg=this.userproductList[0].image;\n\t\t\t\t\t\tconsole.log(this.userproductList,'提交的商品')\n\t\t\t\t\t\tconsole.log(goodtitle,'提交的商品名称')\n\t\t\t\t\t\tconsole.log(this.allmoney,'商品总额')\n\t\t\t\t\t\tconsole.log(goodimg,'提交的商品图片')\n\t\t\t\t\t\t//openid,ordernum,allmoney,getcoupontype,getticket,body,goodimg,couponid,goodinfo\n\t\t\t\t\t\tlet orderId=uni.getStorageSync('ordernum');\n\t\t\t\t\t\t//也先提交柜机未支付订单\n\t\t\t\t\t\tthis.updatecloseorder(this.allmoney,orderId,this.userproductList,goodtitle,goodimg);\n\t\t\t\t\t\tthis.postpay(getopenid,orderId,this.allmoney,0,0,goodtitle,goodimg,0,this.userproductList);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t//结速购买，返回首页\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t    title: '完成提示',\n\t\t\t\t\t\t    content: '欢迎再次光临！',\n\t\t\t\t\t\t\tshowCancel:this.showcan,\n\t\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t\t            uni.reLaunch({\n\t\t\t\t\t\t            \turl:'../../pages/index/index'\n\t\t\t\t\t\t            })\n\t\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t\t        }\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tdocheck(id){\n\t\t\t\tconsole.log(id,'22')\n\t\t\t\tthis.list[id].state=!this.list[id].state;\n\t\t\t\tfor(var i=0;i<this.list.length;i++){\n\t\t\t\t\tif(i!=id){\n\t\t\t\t\t\t\tthis.list[i].state=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpostcoupon(){\n\t\t\t\tlet t=this;\n\t\t\t\tlet getcoupon=[];\n\t\t\t\tfor(var i=0;i<this.list.length;i++){\n\t\t\t\t\tif(this.list[i].state){\n\t\t\t\t\t\t\tgetcoupon.push(this.list[i])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(getcoupon.length==0){\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t    title: '温馨提示',\n\t\t\t\t\t    content: '确定不使用任何优惠卡券吗？',\n\t\t\t\t\t\tconfirmText:'不稀罕',\n\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t           console.log('用户点击确定');\n\t\t\t\t\t\t\t   let goodtitle='';\n\t\t\t\t\t\t\t   let goodimg='';\n\t\t\t\t\t\t\t   for(var i=0;i<t.userproductList.length;i++){\n\t\t\t\t\t\t\t   \tgoodtitle +=t.userproductList[i].name;\n\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t\t   goodimg=t.userproductList[0].image;\n\t\t\t\t\t\t\t   console.log(goodtitle,'提交的商品名称')\n\t\t\t\t\t\t\t   console.log(goodimg,'提交的商品图片')\n\t\t\t\t\t\t\t   console.log(t.allmoney,'商品总额')\n\t\t\t\t\t\t\t   console.log(t.userproductList,'提交的商品')\n\t\t\t\t\t\t\t  //没选择优惠券，直接提交\n\t\t\t\t\t\t\t  //openid,ordernum,allmoney,getcoupontype,getticket,body,goodimg,couponid,goodinfo\n\t\t\t\t\t\t\t  let orderId=uni.getStorageSync('ordernum');\n\t\t\t\t\t\t\t  let openid=uni.getStorageSync('openid');\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t  t.postpay(openid,orderId,t.allmoney,0,0,goodtitle,goodimg,0,t.userproductList);\n\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tt.getticket=getcoupon[0].ticket;\n\t\t\t\t\tt.getcoupontype=getcoupon[0].type;\n\t\t\t\t\tt.couponid=getcoupon[0].id;\n\t\t\t\t\tlet goodtitle='';\n\t\t\t\t\tlet goodimg='';\n\t\t\t\t\tfor(var i=0;i<t.userproductList.length;i++){\n\t\t\t\t\t\tgoodtitle+=t.userproductList[i].name;\n\t\t\t\t\t}\n\t\t\t\t\tgoodimg=t.userproductList[0].image;\n\t\t\t\t\tconsole.log(goodtitle,'提交的商品名称')\n\t\t\t\t\tconsole.log(goodimg,'提交的商品图片')\n\t\t\t\t\tconsole.log(this.allmoney,'商品总额')\n\t\t\t\t\tconsole.log(this.userproductList,'提交的商品')\n\t\t\t\t\tconsole.log(getcoupon[0].ticket,'优惠金额')\n\t\t\t\t\tconsole.log(getcoupon[0].type,'优惠类型')\n\t\t\t\t\tconsole.log(getcoupon[0].id,'优惠id')\n\t\t\t\t\t//有选择优惠券，提交订单\n\t\t\t\t\tconsole.log(getcoupon,'选中的优惠券')\n\t\t\t\t\t//openid,ordernum,allmoney,getcoupontype,getticket,body,goodimg,couponid,goodinfo\n\t\t\t\t\tlet orderId=uni.getStorageSync('ordernum');\n\t\t\t\t\tlet openid=uni.getStorageSync('openid');\n\t\t\t\t\t//也先提交柜机未支付订单\n\t\t\t\t\t//this.updatecloseorder(t.allmoney,orderId,t.userproductList,goodtitle,goodimg);\n\t\t\t\t\tthis.postpay(openid,orderId,t.allmoney,getcoupon[0].type,getcoupon[0].ticket,goodtitle,goodimg,getcoupon[0].id,t.userproductList);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tshowmode(){\n\t\t\t\tthis.$refs.popup.open()\n\t\t\t},\n\t\t\thiddenmode(){\n\t\t\t\tthis.$refs.popup.close()\n\t\t\t},\n\t\t\t//获取柜机商品\n\t\t\tasync getallgood(sn){\n\t\t\t\tlet info= await this.$apis.getallgood({sn:sn});\n\t\t\t\tconsole.log(info.data,'返回商品')\n\t\t\t\tthis.myproductList=info.data;\n\t\t\t},\n\t\t\t//用户所拿商品\n\t\t\tasync getgood(orderId){\n\t\t\t\tlet info= await this.$apis.getgood({orderId:orderId});\n\t\t\t\tconsole.log(info.data,'返回用户商品')\n\t\t\t\tif(info.data.data.products.length>0){\n\t\t\t\t\tthis.showmode()\n\t\t\t\t}\n\t\t\t\tif(info.data.data.close){\n\t\t\t\t\tuni.setStorageSync('isclosedoor',1);\n\t\t\t\t\tclearInterval(this.timerId);\n\t\t\t\t\tthis.hiddenmode();\n\t\t\t\t\t//检查是否有优惠券\n\t\t\t\t\tthis.mycouponlist()\n\t\t\t\t\t// uni.showToast({\n\t\t\t\t\t// \ttitle:'已关门'\n\t\t\t\t\t// })\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tthis.userproductList=info.data.data.products;\n\t\t\t\tthis.totalmoney(info.data.data.products)\n\t\t\t},\n\t\t\ttoIndex() {\n\t\t\t\tclearInterval(this.timerId);\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl:'../../pages/index/index'\n\t\t\t\t})\n\t\t\t},\n\t\t\t//计算价格\n\t\t\ttotalmoney(data){\n\t\t\t\tvar selectArr = data;   //已选择的商品\n\t\t\t\t    var totalPrice = 0;\n\t\t\t\t    if(selectArr.length){  //如果存在商品就计算价格\n\t\t\t\t      for(var i=0;i<selectArr.length;i++){\n\t\t\t\t        totalPrice += selectArr[i].number * selectArr[i].price;\n\t\t\t\t      }\n\t\t\t\t      totalPrice = totalPrice.toFixed(2);  //乘法有点问题, 需要保留一下小数\n\t\t\t\t      console.log(\"计算价格:\",totalPrice)\n\t\t\t\t      this.allmoney=totalPrice;\n\t\t\t\t    } else{  //不存在商品就把总价格置为 0\n\t\t\t\t      this.allmoney=0;\n\t\t\t\t    }\n\t\t\t}\n        },\n        onLoad(option) {\n\t\t\tconsole.log(option.productNumber,'传过来')\n\t\t\t//this.$refs.popups.open()\n\t\t\t//this.mycouponlist()\n\t\t\tthis.getallgood(option.productNumber)\n            setTimeout(() => {\n                this.renderImage = true;\n            }, 300);\n\t\t\tlet orderId=uni.getStorageSync('ordernum');\n\t\t\tthis.timerId = setInterval(() => {\n\t\t\t\t\tvar reqTime = this.reqTime;\n\t\t\t\t\treqTime--;\n\t\t\t\t\tthis.reqTime = reqTime;\n\t\t\t\t\tif (reqTime < 1) {\n\t\t\t\t\t\tclearInterval(this.timerId);\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl:'../../pages/index/index'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//30分种后不关就报估计异常\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(reqTime,'请求时间')\n\t\t\t\t\tthis.getgood(orderId);\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t\n\t\t\t\n        },\n\t\tonHide: function() {\n\t\t\tlet iscolse=uni.getStorageSync('isclosedoor');\n\t\t\tlet t=this;\n\t\t\t  let goodtitle='';\n\t\t\t  let goodimg='';\n\t\t\t  for(var i=0;i<t.userproductList.length;i++){\n\t\t\t  \tgoodtitle +=t.userproductList[i].name;\n\t\t\t  }\n\t\t\t  goodimg=t.userproductList[0].image;\n\t\t\t  console.log(goodtitle,'提交的商品名称')\n\t\t\t  console.log(goodimg,'提交的商品图片')\n\t\t\t  console.log(t.allmoney,'商品总额')\n\t\t\t  console.log(t.userproductList,'提交的商品')\n\t\t\t let orderId=uni.getStorageSync('ordernum');\n\t\t\t let openid=uni.getStorageSync('openid');\n\t\t\tif(iscolse==1&&t.allmoney>0){\n\t\t\t\tt.postpay(openid,orderId,t.allmoney,0,0,goodtitle,goodimg,0,t.userproductList);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n    };\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodlist.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodlist.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}