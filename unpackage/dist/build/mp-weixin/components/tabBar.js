(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/tabBar"],{"07d1":function(e,t,n){"use strict";n.r(t);var o=n("de58"),s=n("bf73");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n("838e");var a=n("2877"),r=Object(a["a"])(s["default"],o["a"],o["b"],!1,null,null,null);t["default"]=r.exports},"58a0":function(e,t,n){},"5ecd":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("a34a"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,s,i,a){try{var r=e[i](a),c=r.value}catch(u){return void n(u)}r.done?t(c):Promise.resolve(c).then(o,s)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(o,s){var a=e.apply(t,n);function r(e){i(a,o,s,r,c,"next",e)}function c(e){i(a,o,s,r,c,"throw",e)}r(void 0)})}}var r=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"bf97"))},c={props:{current:{type:Number,default:0}},data:function(){return{maskclose:!0,senderro:!1,smsbtn:{text:"获取验证码",status:!1,codeTime:60},register:{phone:"",code:""},timerId:null,taBbarList:[{type:0,icon:"/static/img/myorder.png",selectIcon:"/static/img/myorder.png",name:"我的订单",url:1},{type:1,icon:"/static/img/myorder.png",selectIcon:"/static/img/myorder.png",name:"扫一扫",url:2},{type:0,icon:"/static/img/my.png",selectIcon:"/static/img/my.png",name:"我的",url:3}],userinfo:[],extra_data:{},nopaymsg:"",tipimg:""}},onReady:function(){var t=this;e.login({success:function(e){console.log(e.code,"code"),t.getapiinfo(e.code)}})},components:{uniPopup:r},methods:{gotcoupon:function(){this.$refs.popupcoupon.close(),e.navigateTo({url:"../personcenter/coupon/coupon"})},coupontip:function(){var t=a(o.default.mark(function t(n){var s,i,a;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.coupontip({openid:n});case 2:s=t.sent,i=this,s.data.ids&&(console.log(s,"返回"),this.tipimg=s.data.img,a=e.getStorageSync("couponids"),a!=s.data.ids&&i.$refs.popupcoupon.open(),e.setStorageSync("couponids",s.data.ids));case 5:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),closeimg:function(){var e=this;e.$refs.popupcoupon.close()},checknopayorder:function(){var t=a(o.default.mark(function t(n){var s,i;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.checknopayorder({openid:n});case 2:s=t.sent,i=this,s.code?(e.hideLoading(),e.showModal({title:"温馨提示",content:s.msg,showCancel:i.senderro,success:function(t){t.confirm?e.navigateTo({url:"../../pages/personcenter/orderlist/orderlist?tbIndex=1"}):t.cancel&&console.log("用户点击取消")}})):e.scanCode({success:function(e){var t=e.path,o=t.split("=");i.opendoor(n,o[1]),console.log(e,"扫码成功返回")},fail:function(t){console.log(t,"扫码失败返回"),e.hideLoading()}});case 5:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),getapiinfo:function(){var t=a(o.default.mark(function t(n){var s,i;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.chencklogin({code:n});case 2:s=t.sent,i=this,0==s.code||(this.userinfo=s.data,e.setStorageSync("openid",s.data.openid),i.coupontip(s.data.openid),console.log(this.userinfo,"已登录"));case 5:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),openidtogetinfo:function(){var e=a(o.default.mark(function e(t){var n;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.openidtogetinfo({openid:t});case 2:n=e.sent,this.userinfo=n.data;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),opendoor:function(){var t=a(o.default.mark(function t(n,s){var i;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.opendoor({openid:n,sn:s});case 2:i=t.sent,console.log(i.data,"开柜返回"),i.code?(e.setStorageSync("ordernum",i.data.ordernum),e.setStorageSync("sn",s),console.log("已开"),e.reLaunch({url:"../../pages/goodlist/goodlist?productNumber="+s})):e.showToast({title:"开柜失败,原因："+i.msg,duration:3e3,icon:"none"});case 5:case"end":return t.stop()}},t,this)}));function n(e,n){return t.apply(this,arguments)}return n}(),savaphone:function(){var e=a(o.default.mark(function e(t,n){return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$apis.savephone({openid:t,phone:n}),this.openidtogetinfo(t);case 2:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),getphone:function(){var t=a(o.default.mark(function t(n,s,i){var a,r;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.getphone({code:n,iv:s,encryptedData:i});case 2:a=t.sent,console.log(a.data.phoneNumber,"手机授权返回"),r=e.getStorageSync("openid"),this.savaphone(r,a.data.phoneNumber);case 6:case"end":return t.stop()}},t,this)}));function n(e,n,o){return t.apply(this,arguments)}return n}(),getsingparm:function(){var t=a(o.default.mark(function t(){var n;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.getsingparm();case 2:n=t.sent,this,e.showLoading({title:"跳转中..."}),1==n.code&&(console.log(n.data,"返回参数"),console.log(n.data.appid,"返回appid"),console.log(n.data.sign,"返回sign"),console.log(n.data.mch_id,"返回mch_id"),console.log(n.data.timestamp,"返回timestamp"),e.hideLoading(),this.extra_data=n.data,e.navigateToMiniProgram({appId:"wxbd687630cd02ce1d",path:"pages/index/index",extraData:{appid:n.data.appid,mch_id:n.data.mch_id,notify_url:n.data.notify_url,contract_code:n.data.contract_code,contract_display_account:n.data.contract_display_account,plan_id:n.data.plan_id,request_serial:n.data.request_serial,timestamp:n.data.timestamp,sign:n.data.sign},success:function(e){console.log(e,"打开成功")},fail:function(e){console.log(e,"打开失败")}}));case 6:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),ismmsign:function(){var t=a(o.default.mark(function t(){var n,s,i;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getStorageSync("openid"),t.next=3,this.$apis.ismmsign({openid:n});case 3:s=t.sent,i=this,console.log(s,"是否签约"),s.data?(e.showLoading({title:"操作中..."}),i.checknopayorder(n)):e.showModal({title:"温馨提示",content:"请完成完成微信免密支付签约",confirmText:"去签约",success:function(e){e.confirm?i.getsingparm():e.cancel&&console.log("用户点击取消")}});case 7:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),goto:function(t){console.log(t,"选中");var n=e.getStorageSync("phone");if(1==t)e.navigateTo({url:"../../pages/personcenter/orderlist/orderlist?tbIndex=0"});else if(2==t){console.log(n,"getphone");var o=e.getStorageSync("openid");""==o||null==o?e.navigateTo({url:"../../pages/auth/auth"}):(null==this.userinfo.phone||""==this.userinfo.phone)&&(null==n||""==n)?this.$refs.popup.open():this.ismmsign()}else 3==t&&e.navigateTo({url:"../../pages/personcenter/personcenter"})},getsmscode:function(){var t=this;return 1==this.smsbtn.status?(e.showToast({title:"别着急！短信已发",duration:2e3,icon:"none"}),!1):this.checkphone(this.register.phone)?(this.sendsms(this.register.phone),this.timerId=setInterval(function(){var e=t.smsbtn.codeTime;e--,t.smsbtn.codeTime=e,t.smsbtn.text=e+"S",(e<1||t.senderro)&&(clearInterval(t.timerId),t.smsbtn.text="重新获取",t.smsbtn.codeTime=60,t.smsbtn.status=!1),console.log("执行")},1e3),!1):(e.showToast({title:"手机号有误",duration:2e3,icon:"none"}),!1)},checkphone:function(e){return null!=e.match(/^1(3|4|5|6|7|8|9)\d{9}$/)},BindInput:function(e){var t=e.currentTarget.dataset.val;this.register[t]=e.detail.value},sendsms:function(){var t=a(o.default.mark(function t(n){var s;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.sendsms({phone:n});case 2:s=t.sent,console.log(s.data,"dddd"),"1"==s.data?(e.showToast({title:s.msg,duration:2e3,icon:"none"}),this.smsbtn.status=!0,this.senderro=!1):(e.showToast({title:s.msg,duration:2e3,icon:"none"}),this.senderro=!0);case 5:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),regphone:function(){var t=a(o.default.mark(function t(n,s,i){var a;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.regphone({phone:n,code:s,openid:i});case 2:a=t.sent,"1"==a.data?(this.openidtogetinfo(i),this.$refs.popup.close()):e.showToast({title:a.msg,duration:2e3,icon:"none"});case 4:case"end":return t.stop()}},t,this)}));function n(e,n,o){return t.apply(this,arguments)}return n}(),doreg:function(){console.log(this.register.phone,"手机号"),console.log(this.register.code,"验证码");var t=e.getStorageSync("openid");if(!this.checkphone(this.register.phone))return e.showToast({title:"请正确填写手机号",duration:2e3,icon:"none"}),!1;this.regphone(this.register.phone,this.register.code,t)}}};t.default=c}).call(this,n("543d")["default"])},"838e":function(e,t,n){"use strict";var o=n("58a0"),s=n.n(o);s.a},bf73:function(e,t,n){"use strict";n.r(t);var o=n("5ecd"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a},de58:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/tabBar-create-component',
    {
        'components/tabBar-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("07d1"))
        })
    },
    [['components/tabBar-create-component']]
]);                
