(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/tabBar"],{"07d1":function(t,e,n){"use strict";n.r(e);var o=n("eb52"),s=n("bf73");for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);n("838e");var a=n("2877"),r=Object(a["a"])(s["default"],o["a"],o["b"],!1,null,null,null);e["default"]=r.exports},"58a0":function(t,e,n){},"5ecd":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,s,i,a){try{var r=t[i](a),c=r.value}catch(u){return void n(u)}r.done?e(c):Promise.resolve(c).then(o,s)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(o,s){var a=t.apply(e,n);function r(t){i(a,o,s,r,c,"next",t)}function c(t){i(a,o,s,r,c,"throw",t)}r(void 0)})}}var r=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"bf97"))},c={props:{current:{type:Number,default:0}},data:function(){return{maskclose:!0,senderro:!1,smsbtn:{text:"获取验证码",status:!1,codeTime:60},register:{phone:"",code:""},timerId:null,taBbarList:[{type:0,icon:"/static/img/myorder.png",selectIcon:"/static/img/myorder.png",name:"我的订单",url:1},{type:1,icon:"/static/img/myorder.png",selectIcon:"/static/img/myorder.png",name:"扫一扫",url:2},{type:0,icon:"/static/img/my.png",selectIcon:"/static/img/my.png",name:"我的",url:3}],userinfo:[],extra_data:{}}},onReady:function(){var e=this;t.login({success:function(t){console.log(t.code,"code"),e.getapiinfo(t.code)}})},components:{uniPopup:r},methods:{getapiinfo:function(){var e=a(o.default.mark(function e(n){var s;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.chencklogin({code:n});case 2:s=e.sent,this,0==s.code?t.reLaunch({url:"../../pages/auth/auth"}):(this.userinfo=s.data,t.setStorageSync("openid",s.data.openid),console.log(this.userinfo,"已登录"));case 5:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),openidtogetinfo:function(){var t=a(o.default.mark(function t(e){var n;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.openidtogetinfo({openid:e});case 2:n=t.sent,this.userinfo=n.data;case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),savaphone:function(){var t=a(o.default.mark(function t(e,n){return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$apis.savephone({openid:e,phone:n}),this.openidtogetinfo(e);case 2:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),getphone:function(){var e=a(o.default.mark(function e(n,s,i){var a,r;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.getphone({code:n,iv:s,encryptedData:i});case 2:a=e.sent,console.log(a.data.phoneNumber,"手机授权返回"),r=t.getStorageSync("openid"),this.savaphone(r,a.data.phoneNumber);case 6:case"end":return e.stop()}},e,this)}));function n(t,n,o){return e.apply(this,arguments)}return n}(),getsingparm:function(){var e=a(o.default.mark(function e(){var n;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.getsingparm();case 2:n=e.sent,this,t.showLoading({title:"跳转中..."}),1==n.code&&(console.log(n.data,"返回参数"),console.log(n.data.appid,"返回appid"),console.log(n.data.sign,"返回sign"),console.log(n.data.mch_id,"返回mch_id"),console.log(n.data.timestamp,"返回timestamp"),t.hideLoading(),this.extra_data=n.data,t.navigateToMiniProgram({appId:"wxbd687630cd02ce1d",path:"pages/index/index",extraData:{appid:n.data.appid,mch_id:n.data.mch_id,notify_url:n.data.notify_url,contract_code:n.data.contract_code,contract_display_account:n.data.contract_display_account,plan_id:n.data.plan_id,request_serial:n.data.request_serial,timestamp:n.data.timestamp,sign:n.data.sign},success:function(t){console.log(t,"打开成功")},fail:function(t){console.log(t,"打开失败")}}));case 6:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),ismmsign:function(){var e=a(o.default.mark(function e(){var n,s,i;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getStorageSync("openid"),e.next=3,this.$apis.ismmsign({openid:n});case 3:s=e.sent,i=this,console.log(s,"是否签约"),s.data?t.showModal({title:"温馨提示",content:"测试模式跳过真正扫柜开柜",confirmText:"知道了",success:function(e){e.confirm?t.navigateTo({url:"../../pages/goodlist/goodlist?productNumber=0"}):e.cancel&&console.log("用户点击取消")}}):t.showModal({title:"温馨提示",content:"请完成完成微信免密支付签约",confirmText:"去签约",success:function(t){t.confirm?i.getsingparm():t.cancel&&console.log("用户点击取消")}});case 7:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),goto:function(e){if(console.log(e,"选中"),1==e)t.navigateTo({url:"../../pages/personcenter/orderlist/orderlist?tbIndex=0"});else if(2==e){var n=t.getStorageSync("phone");console.log(n,"getphone"),(null==this.userinfo.phone||""==this.userinfo.phone)&&(null==n||""==n)?this.$refs.popup.open():this.ismmsign()}else 3==e&&t.navigateTo({url:"../../pages/personcenter/personcenter"})},getsmscode:function(){var e=this;return 1==this.smsbtn.status?(t.showToast({title:"别着急！短信已发",duration:2e3,icon:"none"}),!1):this.checkphone(this.register.phone)?(this.sendsms(this.register.phone),this.timerId=setInterval(function(){var t=e.smsbtn.codeTime;t--,e.smsbtn.codeTime=t,e.smsbtn.text=t+"S",(t<1||e.senderro)&&(clearInterval(e.timerId),e.smsbtn.text="重新获取",e.smsbtn.codeTime=60,e.smsbtn.status=!1),console.log("执行")},1e3),!1):(t.showToast({title:"手机号有误",duration:2e3,icon:"none"}),!1)},checkphone:function(t){return null!=t.match(/^(13[0-9]|14(5|7)|15(0|1|2|3|5|6|7|8|9)|18[0-9])\d{8}$/)},BindInput:function(t){var e=t.currentTarget.dataset.val;this.register[e]=t.detail.value},sendsms:function(){var e=a(o.default.mark(function e(n){var s;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.sendsms({phone:n});case 2:s=e.sent,console.log(s.data,"dddd"),"1"==s.data?(t.showToast({title:s.msg,duration:2e3,icon:"none"}),this.smsbtn.status=!0,this.senderro=!1):(t.showToast({title:s.msg,duration:2e3,icon:"none"}),this.senderro=!0);case 5:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),regphone:function(){var e=a(o.default.mark(function e(n,s,i){var a;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.regphone({phone:n,code:s,openid:i});case 2:a=e.sent,"1"==a.data?(this.openidtogetinfo(i),this.$refs.popup.close()):t.showToast({title:a.msg,duration:2e3,icon:"none"});case 4:case"end":return e.stop()}},e,this)}));function n(t,n,o){return e.apply(this,arguments)}return n}(),doreg:function(){console.log(this.register.phone,"手机号"),console.log(this.register.code,"验证码");var e=t.getStorageSync("openid");if(!this.checkphone(this.register.phone))return t.showToast({title:"请正确填写手机号",duration:2e3,icon:"none"}),!1;this.regphone(this.register.phone,this.register.code,e)}}};e.default=c}).call(this,n("543d")["default"])},"838e":function(t,e,n){"use strict";var o=n("58a0"),s=n.n(o);s.a},bf73:function(t,e,n){"use strict";n.r(e);var o=n("5ecd"),s=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=s.a},eb52:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/tabBar-create-component',
    {
        'components/tabBar-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("07d1"))
        })
    },
    [['components/tabBar-create-component']]
]);                
